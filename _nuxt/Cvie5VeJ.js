import{_ as P,r as h,j as V,t as u,x as s,H as N,y,I as F,J as S,K as W,v as c,L as z}from"./C67mY0CP.js";function E(){const b=["日","一","二","三","四","五","六"],_=(e,t)=>e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate(),m=e=>{const t=new Date(e.getFullYear(),0,1),l=Math.floor((e.getTime()-t.getTime())/(1e3*60*60*24));return Math.ceil((l+t.getDay()+1)/7)},C=e=>new Date(e.getFullYear(),e.getMonth(),1).getDay(),k=(e,t)=>new Date(e,t+1,0).getDate();return{weekDays:b,isSameDate:_,getWeekNumber:m,getFirstDayOfMonth:C,getDaysInMonth:k,getMonthMatrix:e=>{const t=e.getFullYear(),l=e.getMonth(),x=new Date(t,l,1);k(t,l);const d=x.getDay(),n=[];let a=new Date(t,l,1-d);for(let p=0;p<6;p++){const w=[];for(let M=0;M<7;M++)w.push(new Date(a)),a.setDate(a.getDate()+1);n.push(w)}return n}}}const H={class:"date-picker-container"},J={key:0,class:"calendar-popup"},K={class:"calendar-header"},U={key:0,class:"year-selector"},q=["onClick"],A={__name:"Day",setup(b){const{weekDays:_,getWeekNumber:m,getFirstDayOfMonth:C,getMonthMatrix:k}=E(),f=new Date;console.log("本月第一天是星期幾：",C(f)),console.log("本週是第幾週：",m(f)),console.log("日曆格子矩陣：",k(f));const e=h(!1),t=h(""),l=new Date,x=_,d=h(!1),n=h(l.getMonth()),a=h(l.getFullYear()),p=()=>{e.value=!e.value},w=o=>new Date(o).toDateString()===l.toDateString(),M=o=>t.value===o,O=o=>{t.value=o,e.value=!1},T=()=>{n.value===0?(n.value=11,a.value-=1):n.value-=1},B=()=>{n.value===11?(n.value=0,a.value+=1):n.value+=1},$=()=>{d.value=!d.value},I=o=>{a.value+=o},j=V(()=>{const o=new Date(a.value,n.value,1),D=new Date(a.value,n.value+1,0),i=o.getDay(),Y=D.getDate(),r=[];let g=[];for(let v=0;v<i;v++)g.push({text:"",date:null});for(let v=1;v<=Y;v++){const L=new Date(a.value,n.value,v).toISOString().split("T")[0];g.push({text:v,date:L}),g.length===7&&(r.push(g),g=[])}return g.length>0&&r.push(g),r});return(o,D)=>(c(),u("div",H,[s("div",{class:"fake-input",onClick:p},y(t.value?t.value:"選擇日期"),1),e.value?(c(),u("div",J,[s("div",K,[s("button",{onClick:T},"←"),s("span",{onClick:$},y(a.value)+"年 "+y(n.value+1)+"月 ",1),s("button",{onClick:B},"→")]),d.value?(c(),u("div",U,[s("button",{onClick:D[0]||(D[0]=i=>I(-1))},"上一年"),s("button",{onClick:D[1]||(D[1]=i=>I(1))},"下一年")])):N("",!0),s("table",null,[s("thead",null,[s("tr",null,[(c(!0),u(F,null,S(W(x),i=>(c(),u("th",{key:i},y(i),1))),128))])]),s("tbody",null,[(c(!0),u(F,null,S(j.value,(i,Y)=>(c(),u("tr",{key:Y},[(c(!0),u(F,null,S(i,r=>(c(),u("td",{key:r.date,class:z({today:w(r.date),selected:M(r.date)}),onClick:g=>O(r.date)},y(r.text),11,q))),128))]))),128))])])])):N("",!0)]))}},Q=P(A,[["__scopeId","data-v-b04d7a39"]]);export{Q as default};
